<ion-header class="ion-no-border">
  <app-header darkTitle="Hépatite B" coloredTitle="chronique" color="violet" subTitle="Prise en charge"
    defaultBackRoute="/medical-management-list" />
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size-sm="8" offset-sm="2" size-md="5" offset-md="3.5">
        <ion-card class="ion-no-padding ion-no-margin ion-margin-bottom" [disabled]="displayResult">
          <div class="card-header">
            <ion-label class="card-title">ADN VHB</ion-label>
          </div>
          <radio-area (change)="setAdnVhb($event)" [options]="adnVhbOptions" [selectedValue]="adnVhb"></radio-area>
        </ion-card>
        <ion-card *ngIf="adnVhb" class="ion-no-padding ion-no-margin ion-margin-bottom" [disabled]="displayResult">
          <div class="card-header">
            <ion-label class="card-title">ALAT</ion-label>
          </div>
          <radio-area (change)="setAlat($event)" [options]="alatOptions" [selectedValue]="alat"></radio-area>
        </ion-card>
        <ion-card *ngIf="alat" class="ion-no-padding ion-no-margin ion-margin-bottom" [disabled]="displayResult">
          <div class="card-header">
            <ion-label class="card-title">fibrose</ion-label>
          </div>
          <div class="sub-card">
            <div class="card-sub-title">biopsie</div>
            <radio-area (change)="setBiopsie($event)" [options]="biopsieOptions" [selectedValue]="biopsie"></radio-area>
          </div>
          <div *ngIf="noBiopsie" class="sub-card margin-top">
            <div class="card-sub-title">fibroscan</div>
            <radio-area (change)="setFibroscan($event)" [options]="fibroscanOptions" [selectedValue]="fibroscan"></radio-area>
          </div>
          <div *ngIf="noBiopsie && showAlatMoreSpecific" class="sub-card margin-top">
            <div class="card-sub-title">Précision sur le taux ALAT</div>
            <radio-area (change)="setAlatMoreSpecific($event)" [options]="alatMoreSpecificOptions" [selectedValue]="alatMoreSpecific"></radio-area>
          </div>
        </ion-card>
        <ng-container *ngIf="fibroseCompleted">
          <ion-card class="ion-no-padding ion-no-margin ion-margin-bottom" [disabled]="displayResult">
            <div class="card-header">
              <ion-label class="card-title">Age</ion-label>
            </div>
            <radio-area (change)="setAge($event)" [options]="ageOptions" [selectedValue]="age"></radio-area>
          </ion-card>
          <ion-card *ngIf="(age && !pageBCompleted) || !!sexe" class="ion-no-padding ion-no-margin ion-margin-bottom" [disabled]="displayResult">
            <div class="card-header">
              <ion-label class="card-title">Sexe</ion-label>
            </div>
            <radio-area (change)="setSexe($event)" [options]="sexeOptions" [selectedValue]="sexe"></radio-area>
          </ion-card>
          <ion-card *ngIf="(sexe && !pageBCompleted) || !!platelets" class="ion-no-padding ion-no-margin ion-margin-bottom" [disabled]="displayResult">
            <div class="card-header">
              <ion-label class="card-title">Plaquettes</ion-label>
            </div>
            <radio-area (change)="setPlatelets($event)" [options]="plateletsOptions" [selectedValue]="platelets"></radio-area>
          </ion-card>
        </ng-container>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ng-container *ngIf="displayResult">
    <ion-item-divider></ion-item-divider>
    <ion-row class="ion-justify-content-end ion-margin-end" >
      <ion-buttons class="ion-margin-top ion-margin-bottom">
        <ion-button (click)="reset()" color="violet" shape="round" fill="outline" class="reset-button">
          <ion-icon slot="start" name="refresh-outline"></ion-icon>
          Réinitialiser
        </ion-button>
      </ion-buttons>
    </ion-row>

    <ion-row>
      <ion-col>

        <div *ngIf="treatment === 'oui'">
          <span>Patient a traiter.</span>
          <br/><br/>
          <span>Utilisation d'analogues en monothérapie :</span>
          <ul>
            <li class="app-mb-sm">
              <span>ENTECAVIR (BARACLUDE)&nbsp;: 0.5&nbsp;mg/j à adapter à la fonction rénale</span>
            </li>
            <li>
              <span>TENOFOVIR DISOPROXIL (VIREAD)&nbsp;: 245&nbsp;mg/j à adapter à la fonction rénale</span>
            </li>
            <li>
              <span>Tenofovir alafenamide (non disponible en France)</span>
            </li>
          </ul>
        </div>

        <div *ngIf="treatment === 'non'">
          <span>Pas besoin de traitement</span>
        </div>

        <div *ngIf="treatment === 'ininterpretable'">
          <span>Fibroscan ininterpretable. On fait quoi alors ??</span>
        </div>

        <div *ngIf="surveyance">
          <span>SURVEILLANCE</span>
        </div>

        <div *ngIf="!surveyance">
          <span>pas de surveillance particuliere</span>
        </div>

      </ion-col>
    </ion-row>
  </ng-container>

</ion-content>
